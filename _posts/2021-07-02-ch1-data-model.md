---
keywords: fastai
title: Title
nb_path: _notebooks/2021-07-02-ch1-data-model.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-07-02-ch1-data-model.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To undertant how python works as a framework it is crutial that you get the Python Data Model. Python is very consistent and by that I mean that once you have some experince with the language you can start to correctly make informed guesses on other features about python even if its new. This will help you make your objects more pythonic by leveraging the options python has for:</p>
<ol>
<li>Iteration</li>
<li>Collections</li>
<li>Attribute access</li>
<li>Operator overloading</li>
<li>Function and method invocation</li>
<li>Object creation and destruction</li>
<li>String representation and formatting</li>
<li>Managed contexts (i.e., with blocks)</li>
</ol>
<p>Let see an example to show you the power of <code>__getitem__</code> and <code>__len__</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">collections</span>

<span class="n">Card</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Card&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;rank&#39;</span><span class="p">,</span> <span class="s1">&#39;suit&#39;</span><span class="p">])</span>
<span class="n">Card</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>__main__.Card</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">FrenchDeck</span><span class="p">:</span>
    <span class="n">ranks</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;JQKA&#39;</span><span class="p">)</span>
    <span class="n">suits</span> <span class="o">=</span> <span class="s1">&#39;spades diamonds clubs hearts&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cards</span> <span class="o">=</span> <span class="p">[</span><span class="n">Card</span><span class="p">(</span><span class="n">rank</span><span class="p">,</span> <span class="n">suit</span><span class="p">)</span> <span class="k">for</span> <span class="n">suit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">suits</span>
                                        <span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ranks</span><span class="p">]</span>
        
    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cards</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">position</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cards</span><span class="p">[</span><span class="n">position</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">deck</span> <span class="o">=</span> <span class="n">FrenchDeck</span><span class="p">()</span>
<span class="n">deck</span><span class="o">.</span><span class="n">_cards</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">deck</span><span class="p">),</span> <span class="n">deck</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>([Card(rank=&#39;2&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;3&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;4&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;5&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;6&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;7&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;8&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;9&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;10&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;J&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;Q&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;K&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;A&#39;, suit=&#39;spades&#39;),
  Card(rank=&#39;2&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;3&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;4&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;5&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;6&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;7&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;8&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;9&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;10&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;J&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;Q&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;K&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;A&#39;, suit=&#39;diamonds&#39;),
  Card(rank=&#39;2&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;3&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;4&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;5&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;6&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;7&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;8&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;9&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;10&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;J&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;Q&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;K&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;A&#39;, suit=&#39;clubs&#39;),
  Card(rank=&#39;2&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;3&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;4&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;5&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;6&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;7&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;8&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;9&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;10&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;J&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;Q&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;K&#39;, suit=&#39;hearts&#39;),
  Card(rank=&#39;A&#39;, suit=&#39;hearts&#39;)],
 52,
 Card(rank=&#39;2&#39;, suit=&#39;spades&#39;))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we have created a class FrenchDeck that is short but still packs a punch. All the basic operations are supported. Now imagine we have another usecase to pick a random card. Normally we would add another function but in this case we can use pythons existing lib function <code>random.choice()</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">choice</span>

<span class="n">choice</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Card(rank=&#39;8&#39;, suit=&#39;clubs&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>We’ve just seen two advantages of using special methods to leverage the Python data
model:&gt; 1. The users of your classes don’t have to memorize arbitrary method names for stan‐dard operations (“How to get the number of items? Is it .size() , .length() , or
what?”).</p>
<ol>
<li>It’s easier to benefit from the rich Python standard library and avoid reinventing
the wheel, like the random.choice function.</li>
</ol>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">deck</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[Card(rank=&#39;3&#39;, suit=&#39;spades&#39;),
 Card(rank=&#39;4&#39;, suit=&#39;spades&#39;),
 Card(rank=&#39;5&#39;, suit=&#39;spades&#39;),
 Card(rank=&#39;6&#39;, suit=&#39;spades&#39;)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="n">deck</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">card</span><span class="o">.</span><span class="n">rank</span> <span class="o">==</span> <span class="s1">&#39;K&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Card(rank=&#39;K&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;K&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;K&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;K&#39;, suit=&#39;hearts&#39;)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># the in operator does a sequential scan.</span>

<span class="n">Card</span><span class="p">(</span><span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;spades&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">deck</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Card</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;spades&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">deck</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>False</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">suit_value</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">spades</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">hearts</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">diamonds</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">clubs</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">spades_high</span><span class="p">(</span><span class="n">card</span><span class="p">):</span>
    <span class="n">rank_value</span> <span class="o">=</span> <span class="n">FrenchDeck</span><span class="o">.</span><span class="n">ranks</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">card</span><span class="o">.</span><span class="n">rank</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rank_value</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">suit_value</span><span class="p">)</span> <span class="o">+</span> <span class="n">suit_value</span><span class="p">[</span><span class="n">card</span><span class="o">.</span><span class="n">suit</span><span class="p">]</span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">deck</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">spades_high</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>3
7
11
15
19
23
27
31
35
39
43
47
51
1
5
9
13
17
21
25
29
33
37
41
45
49
0
4
8
12
16
20
24
28
32
36
40
44
48
2
6
10
14
18
22
26
30
34
38
42
46
50
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">deck</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">spades_high</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Card(rank=&#39;2&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;2&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;2&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;2&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;3&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;3&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;3&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;3&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;4&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;4&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;4&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;4&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;5&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;5&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;5&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;5&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;6&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;6&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;6&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;6&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;7&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;7&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;7&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;7&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;8&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;8&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;8&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;8&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;9&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;9&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;9&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;9&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;10&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;10&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;10&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;10&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;J&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;J&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;J&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;J&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;Q&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;Q&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;Q&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;Q&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;K&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;K&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;K&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;K&#39;, suit=&#39;spades&#39;)
Card(rank=&#39;A&#39;, suit=&#39;clubs&#39;)
Card(rank=&#39;A&#39;, suit=&#39;diamonds&#39;)
Card(rank=&#39;A&#39;, suit=&#39;hearts&#39;)
Card(rank=&#39;A&#39;, suit=&#39;spades&#39;)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>Although FrenchDeck implicitly inherits from object its functionality is not inherited,
but comes from leveraging the data model and composition. By implementing the special 
methods <code>__len__</code> and <code>__getitem__</code> , our FrenchDeck behaves like a standard Python
sequence, allowing it to benefit from core language features (e.g., iteration and slicing). 
and from the standard library, as shown by the examples using random.choice ,
reversed , and sorted . Thanks to composition, the <code>__len__</code> and <code>__getitem__</code> imple‐
mentations can hand off all the work to a <em>list</em> object, <code>self._cards</code> .</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Enumerating-Numeric-Types">Enumerating Numeric Types<a class="anchor-link" href="#Enumerating-Numeric-Types"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">hypot</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Vector</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Vector(</span><span class="si">%d</span><span class="s1">, </span><span class="si">%d</span><span class="s1">)&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">hypot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span>
        
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scalar</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">scalar</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">scalar</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
        
        <span class="k">return</span> <span class="n">Vector</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">v</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v</span> <span class="o">+</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Vector(3, 4)
5.0
Vector(6, 8)
Vector(3, 4)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As you can see we implemented many special methods but we don't directly invoke them. The special methods are to be invoked by the interpretor most of the time, unless you are doing a lot of metaprogramming.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">bool</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

